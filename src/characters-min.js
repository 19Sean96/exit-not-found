const rooms=[],lvl=1,weapons=[["Brass knuckles","Fists"],[""],["Pistol","Rifle","Sniper"]],enemies=[["Skeleton","Vampire"],[""],[""]],rng=(t=4)=>Math.floor(Math.random()*t),roundUp=t=>{const s=t.toString().split(".")[1];return s&&parseInt(s.split("")[0])>=5?Math.round(t):t},Character=function(t,s){this.class=s,this.name=t,this.xp=0,this.lvl=1,this.hp=s?1==s?50:75:100,this.attack=s&&1==s?rng(3)+1:rng()+3,this.def=s?1==s?rng(2)+1:rng(3)+1:rng()+2,this.agility=s?1==s?rng(2)+1:rng()+1:rng(2)+1,this.speed=s&&1==s?rng(2)+3:rng()+4,this.fov=s?rng()+4:rng(2)+2,this.items=[],this.lvlUp=function(){xp>=404&&this.addStat()},this.weapons=weapons[this.class],this.addStat=function(t){switch(t){case 0:return this.attack=roundUp(1.2*this.attack);case 1:return this.agility=roundUp(1.1*this.agility);case 2:return this.def=roundUp(1.15*this.def);case 3:return this.speed=roundUp(1.1*this.speed)}},this.move=function(t){this.speed},this.attackEnemy=function(t){const s=t.agility<rng(100)&&this.attack>t.def;return s&&(t.hp=t.hp-this.attack+t.def),s?`You hit for ${this.attack-t.def}!`:this.name+" missed!"}},Enemy=function(t){const s=rng(100);this.class=s<60?0:s<85?2:1,this.name=enemies[this.class][rng(3)],this.hp=Math.floor(Math.sqrt(t*rng(100)))+t*rng(10),this.attack=t+rng(10)+1-2*this.class,this.def=t*rng()+t,this.fov=2*this.class+t,this.speed=0==this.class?6:1==this.class?3:4,this.xp=10*t+rng(20),this.atkChar=function(t){const s=t.agility<rng(100)&&t.def<this.attack;return s&&(t.hp=t.hp-this.attack+Math.floor(t.def)),t.def>=this.attack?`You blocked ${this.name}'s attack!`:s?`${this.name} hit for ${this.attack}!`:this.name+" missed!"},this.move=function(){new Array(this.speed).fill().map(t=>rng())}};