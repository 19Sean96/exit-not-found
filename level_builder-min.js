const rooms=[],lvl=1,rng=(s=4)=>Math.floor(Math.random()*s),Character=function(s,t){this.class=t,this.hp=0===t?100:1===t?50:75,this.xp=0,this.lvl=1,this.lvlUp=function(){xp,Math.sqrt(1)}},Enemy=function(s){this.class=rng(3),this.hp=Math.floor(Math.sqrt(s*rng(80)))+s*rng(10),this.attack=s+rng(10)+1-2*this.class,this.def=s*rng()+s,this.fov=2*this.class+s,this.speed=0===this.class?6:1===this.class?3:4},Cell=function(){this.tile=rng(100)<=90?1:0,this.enemies=enemy?new Enemy(difficulty):null,this.treasure=1===rng(100)},roomBuilder=function(s=1,t=[rng(),rng()],i){this.paths=t||t[1].map(()=>rng()),this.cells=i},buildLevel=(s=10)=>{};