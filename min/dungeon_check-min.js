const checker=(e,[r,i],[f,t],[n,u],[l,s],c,a,[h,g],k=0)=>{if(++k>400)return;ctx.fillStyle=e[u]&&"#39e363",ctx.fillRect(n,u,a,a);const o=e[r]?.[i-a],x=e[r+a]?.[i],y=e[r-a]?.[i],m=e[r]?.[i+a],v=i==t,w=r==f,E=r==f+a,P=r==f-a,R=i==t+a,S=i==t-a,b=(f,t,o=c,x=r,y=i)=>checker(e,[f,t],[x,y],[n,u],[l,s],o,a,[h,g],k++);if(n==r&&u==i)return generatePlayer([l,s],"white",e,a,[n,u]),generateEnemies(lvl,[l,s],[n,u],e),!0;if(o||x||y||m)if(c)if(1!=c)if(2!=c)if(3!=c);else{if(r-a<0)return R&&x?b(r+a,i):i==g?b(r,i,0):m?b(r,i+a):b(r,i,0);if(w&&v)return y?b(r-a,i):b(r,i-a);if(w){if(S)return y?b(r-a,i):o?b(r,i-a):x?b(r+a,i):b(r,i+a);if(R)return 0==r?m?b(r,i+a):x?b(r+a,i):b(r,i+a):x?b(r+a,i):m?b(r,i+a):y?b(r-a,i):b(r,i-a)}else if(v){if(P)return 0==r?m?b(r,i+a):x?b(r-a,i):b(r,i-a):m?b(r,i+a):y?b(r-a,i):o?b(r,i-a):b(r+a,i);if(E)return o?b(r,i-a):x?b(r+a,i):m?b(r,i+a):b(r-a,i)}}else{if(i==g)return E&&o?b(r,i-a):r==h?b(r,i,3):x?b(r+a,i):b(r,i,3);if(w&&v)return m?b(r,i+a):b(r-a,i);if(w){if(S)return y?b(r-a,i):o?b(r,i-a):x?b(r+a,i):b(r,i+a);if(R)return r==h?m?b(r,i+a):y?b(r-a,i):b(r,i-a):x?b(r+a,i):m?b(r,i+a):y?b(r-a,i):b(r,i-a)}else if(v){if(P)return m?b(r,i+a):y?b(r-a,i):o?b(r,i-a):b(r+a,i);if(E)return 0==r?o?b(r,i-a):x?b(r+a,i):b(r,i+a):o?b(r,i-a):x?b(r+a,i):m?b(r,i+a):b(r-a,i)}}else{if(r==h)return S&&y?b(r-a,i):0==i?b(r,i,2):o?b(r,i-a):b(r,i,2);if(w&&v)return x?b(r+a,i):b(r,i+a);if(w){if(S)return i==g?b(y?r-a:r+a,i):y?b(r-a,i):o?b(r,i-a):x?b(r+a,i):b(r,i+a);if(R)return x?b(r+a,i):m?b(r,i+a):y?b(r-a,i):b(r,i-a)}else if(v){if(P)return r==h?o?b(r,i-a):b(y?r-a:r+a,i):m?b(r,i+a):y?b(r-a,i):o?b(r,i-a):b(r+a,i);if(E)return o?b(r,i-a):x?b(r+a,i):m?b(r,i+a):b(r-a,i)}}else{if(0==i)return P&&m?b(r,i+a):0==r?b(r,i,1):y?b(r-a,i):b(r,i,1);if(w&&v)return o?b(r,i-a):b(r+a,i);if(w){if(S)return 0==r?o?b(r,i-a):x?b(r+a,i):b(r,i+a):y?b(r-a,i):o?b(r,i-a):x?b(r+a,i):b(r,i+a);if(R)return 0==r?x?b(r+a,i):b(r,m?i+a:i-a):x?b(r+a,i):m?b(r,i+a):y?b(r-a,i):b(r,i-a)}else if(v){if(P)return 0===r?m?b(r,i+a):o?b(r,i-a):b(r+a,i):m?b(r,i+a):y?b(r-a,i):o?b(r,i-a):b(r+a,i);if(E)return o?b(r,i-a):x?b(r+a,i):m?b(r,i+a):b(r-a,i)}}};